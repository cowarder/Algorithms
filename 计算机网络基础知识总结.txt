（1）电路交换，分组交换，报文交换的特点比较

电路交换：整个报文的比特流连续从源点直达终点，占用一条端到端的资源，好像在一个管道中传送数据
报文交换：整个报文传到相邻结点，存储下来之后查找转发表，转发到下一个结点
分组交换：将分组传到相邻结点（整个报文的一部分），存储下来之后查找转发表，转发到下一个结点

（2）计算机网络的层次划分
		5.应用层：为操作系统或网络应用程序提供访问网络服务的接口（ftp，http，smtp）
		4.运输层：负责向两个主机进程之间的通信提供通用的数据传输服务（tcp，udp）
		3.网络层：1.为不同的主机提供通信服务（ip数据报） 2.选择合适的路由
		2.数据链路层：封装成帧，透明传输，差错检测
		1.物理层：发送和接收二进制比特流

网络={计算机，结点，链路}
网络的网络（互联网）={网络，路由器，链路}
网络把许多计算机连在一起，而互联网把许多网络连在一起
因特网是世界上最大的互联网，大写字母Internet开头的指的是因特网

因特网发展的三个阶段：
1.从单个网络向互联网发展，以主机为中心到以网络为中心
2.三级结构（主干网，地区网，校园网）
3.多层次ISP结构的因特网，Internet Service Provider

从因特网的工作方式上面看，可以将其划分为下列两大部分
1.边缘部分：连接在因特网上的主机
2.核心部分：网络和连接这些网络的路由器组成（最主要的功能是通过路由器实现分组交换）

分组交换的主要特点：
1.先把较长的报文划分为较短的、固定长度的数据段
2.每一个数据段前面添加上首部构成分组
3.以分组为传送单元，依次把分组传送到接收端
4.接收端去掉首部，恢复成原来的报文

路由器处理报文的过程：
1.将接收到的分组放入到缓存
2.查找转发表，找到转发端口
3.将报文从端口发送出去

主机与路由器的不同：
主机：为用户提供信息处理
路由：存储转发

不同范围的网络：
1.广域网（WAN）：wide area network
2.城域网（MAN）：metropolitan area network
3.局域网（LAN）：local area network
4.个人局域网（PAN）：personal area network

计算机网络的拓扑结构：
1.星型拓扑
2.环形拓扑
3.总线拓扑

计算机网络性能的衡量指标：
速率（bit/s）、带宽（bit/s）、时延（发送时延，传播时延，处理时延，排队时延）、吞吐量（单位时间内通过某个网络的数据量）、时延带宽积（传播时延*带宽）
往返时间（RTT）Round-trip time、利用率






物理层
传输媒介本身不属于物理层
1.单工通信。通信的双方只有一方能够发送数据，另一方只能接受数据
2.半双工通信。通信的双方都可以发送数据，但是不能同时进行
3.全双工通信。通信的双方都可以发送数据，且可以同时进行

调制（modulation）分为基带调制和带通调制
基带调制（编码）：将数字信号转换为另一种形式的数字信号，仍然是数字信号，如曼彻斯特编码
带通调制：使用载波进行调制，把基带信号的频率范围搬运到较高的频段，转换为模拟信号，如：调幅AM、调频FM、调相PM

曼彻斯特编码：每个码元分成两个相等的间隔，1：前高后低  0：前低后高
差分曼彻斯特编码：每个码元分成两个相等的间隔  1：前半个码元与上一码元的后半个码元的电平相反  0：后半个码元与上一个码元的后半个码元的点评相同

为什么要进行调制？
来自信源的信号称为基带信号（比如文字或图像文件的数据信号）属于基带信号，基带信号往往含有较多的低频成分，甚至直流成分
但是许多信道并不能传递这些信号，所以需要对其进行调制

信噪比：S/N    S:信道内信号的平均功率   N:信道内的高斯噪声功率
香农公式指出了信道的极限信息传输速率：信道的带宽或者信道中的信噪比越高，信息的极限传输速率就越高

信道复用
1.频分复用FDM（frequency division multiplexing）：所有用户在同一时间占用不同的频带宽度
2.时分复用TDM（time division multiplexing）：所有用户在不同的时间占用同样的频带宽度。时分复用的效率不高
3.统计时分复用STDM（statistic TDM）：如果在某个时间段内当前的用户没有数据进行传输，就跳过
4.波分复用WDM（wavelength division multiplexing）：波分复用就是光的频分复用
5.码分复用CDM（code division multiplexing）：每个用户经过挑选选择不同的码型





数据链路层
数据链路层传送的是帧
链路：一条无源的点到点的物理线路段
数据链路：除了物理线路外，还必须有通信协议来控制这些数据的传输，把实现这些协议的硬件和软件（适配器）加到链路上，就是数据链路


数据链路层的作用：
	1.封装成帧：为一段数据分别添加头部和尾部，构成一个帧
	2.透明传输：在传输过程中如果在数据中出现帧定界符（SOH，EOT），仍然可以进行传输，称之为透明传输，插入一个转义字符，接收端将其删除
	3.差错检测：循环冗余校验CRC（cyclic redundancy check），发送到数据包括k为数据和n位校验，n位是事先约定的，利用模2运算，不断用k位数据除以约定好的数据取模
	
点对点协议（PPP）：因特网用户需要连接到某个ISP才能接入因特网，ppp协议就是计算机和ISP进行通信时所使用的数据链路层协议。
	
	
	
	
	
网络层
多个网络通过路由器互连为一个互联网
网络层向上只提供简单灵活的、无连接的、尽最大努力交付的数据报服务
网络相互连起来需要一些中间设备，这些中间设备在不同的层中有不同的表现形式
物理层：转发器
数据链路层：网桥或桥接器
网络层：路由器
网络层以上：网关

ip地址由两部分组成：网络号+主机号
A类网络，网络号全0表示本网络，全1表示环回测试，主机号全0表示该主机所在的网络，全1表示该网络上所有主机

ip地址为什么要分级：
1.在分配地址时只分配网络号，主机号由得到网络号的单位自行进行分配，方便了ip地址的管理
2.路由器仅仅根据主机中连接的网络号进行转发分组，这样就可以使得路由表中的项目大幅度减少，减少了路由表的存储空间

一个路由器至少要拥有两个IP地址，才能将一个IP数据报从一个网络转发到另一个网络，每一个接口都有一个IP地址。
用转发器或者网桥连接起来的若干个局域网仍然属于一个网络，因此他们拥有同样的网络号


地址解析协议（ARP：address resolution protocol）：ip地址解析为物理地址
逆地址解析协议（RARP）：物理地址解析为ip地址

每条路由的主要信息：（目的网络，下一跳地址）
	
	
	
	
	
	
运输层
tcp和udp协议的作用范围：提供进程之间的逻辑通信
ip协议的作用范围：提供主机之间的逻辑通信

udp（user datagram protocol）：用户数据报协议
特点：
	传输数据之前不需要建立连接，收到报文之后不需要确认
	面向报文
	尽最大努力交付，不保证可靠交付
	没有拥塞控制，所以网络出现拥塞不会使得数据发送速率降低，这对一些实时应用是很重要的

注意的问题：
	合理选择报文的大小
	太大的话在ip层需要切片，太小的话影响传输速率
	
	
tcp（transmission control protocol）：传输控制协议
特点：
	传输数据之前需要先建立连接，收到报文之后需要给出确认信息
	面向字节流
	
套接字：ip地址+端口号
每一条tcp连接唯一地被通信两端的两个套接字所确定

tcp的报文段是交个ip层来传送的，但是ip层只能保证尽最大努力交付，就是说tcp下面的网络是不可靠的

tcp怎样保证可靠传输：
	1.停止等待协议：发送一段数据之后，等待确认信号再发送下一批数据
	2.连续ARQ协议：采用滑动窗口的策略，窗口内的数据可以同时发送出去，不必等待

tcp的拥塞控制：
	1.慢开始：由小到大逐渐增大拥塞窗口，加倍
	2.拥塞避免：使拥塞窗口缓慢增大，逐渐增加
	3.快重传：当一连收到三个重复确认就立即重新发送报文段，不必等待重传计时器到期
	4.快恢复：当收到三个连续确认信号时，就将慢开始门限减半，开始执行拥塞避免算法
	
	设置一个慢开始门限，当拥塞窗口小于慢开始门限的时候，采用慢开始的方法，每次加倍拥塞窗口
	但是当达到慢开始门限的时候，采用拥塞避免算法，每次增加一个单位的拥塞窗口
	

https://www.zhihu.com/search?type=content&q=tcp
tcp的三次握手（建立连接）：
	起初，客户端和服务器端都处于closed状态，在通信开始前，双方都创建自己的传输控制块
	服务器创建完传输控制块之后，处于listen状态
	第一次握手：客户端向服务器端发送请求报文段，SYN=1，ACK=0，表示是一个连接请求报文段，客户端进入SYN-SENT状态
	第二次握手：服务器段收到请求报文段之后，如果同意连接，发送一个SYN=1，ACK=1应答，服务器端进入SYN-RCVD状态
	第三次握手：客户端收到应答之后，还要向服务器发送一个确认信号，客户单发送这个信号之后进入ESTABLISHED状态，服务器接收到后也进入ESTABLISHED状态

为什么不是二次握手？
	为了防止失效的连接请求被服务器端接受，从而产生错误

tcp的四次挥手（释放连接）：
	第一次挥手：客户端认为数据发送已经完成，向服务器发送连接释放请求，进入FIN-WAIT-1
	第二次挥手：服务器接收到释放请求，向客户单发送连接释放的应答，服务器进入CLOSE-WAIT状态
	客户端收到应答，进入FIN-WAIT-2状态
	第三次挥手：服务器向客户端发送完所有的数据之后，服务器向客户端发送连接释放请求，服务器进入LAST-ACK状态
	第四次挥手：客户端收到释放请求之后，向服务器发送确认应答，客户端进入Time-wait状态，持续一段时间，进入CLOSED状态，撤销TCB，服务器收到确认之后，进入CLOSED装填
	
为什么先进入TIme-wait状态，才进入closed状态？
	为了保证服务器能够收到客户端的确认应答






















